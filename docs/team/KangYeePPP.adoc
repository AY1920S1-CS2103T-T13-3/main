= Lim Kang Yee – Project Portfolio for treasurerPro (tP)
:site-section: ProjectPortfolio
//:toc:
:toc-title:
:sectnums:
:imagesDir: ../images
:stylesDir: ../stylesheets
:xrefstyle: full
:icons: font
ifdef::env-github[]
:note-caption: :information_source:
endif::[]

== Introduction

This project portfolio briefly introduces the project, treasurerPro and outlines my contributions to the project
and showcases the key features I implemented.

=== About the team

My team of 5 members consists of 4 year 2 Computer Science Undergraduate students, including me, and another
year 4 Computer Engineering Undergraduate student.

=== About the project

This project is part of the module 'Software Engineering Project CS2103T' where we were tasked to develop a basic
command line interface desktop application by morphing or enhancing an existing AddressBook desktop application.
Our team decided to incorporate and morph the AddressBook application as part of our all-in-one application which
enables treasurers or members of Co-Curricular Activities (CCA) Clubs and Societies to manage their club finances,
reimbursements, inventory and member’s contact details easily. The duration of our project was 13 weeks.

===  Key to the icons and formatting used in the document

[NOTE]
This symbol indicates extra information or definition.

////
[WARNING]
This symbol indicates important information to take note of.
////
`Model` :
Text with grey highlight indicates a component, class or object in the architecture of
the application.

[blue]`command` :
Text with blue font and grey highlight indicates a command that can be inputted by the user.

=== Introduction of treasurerPro

This desktop application consists of 6 tabs, a command box for users to input their commands and a response box
for Leo, our lion mascot. Each tab serves a different purpose that helps treasurers and members better manage their club
or Society's finances.
////
The home tab keeps track of individual transactions. The members tab keep track of all contact
details of members. The reimbursement tab keeps track of reimbursement records for members that have spent for the club.
The inventory tab keeps track of items for sale. The cashier tab is a convenient way for the club or society to do
cashiering duties which helps to directly input sales into the system. The overview tab allows treasurers to plan the
club or society's finances.
////
This is what our application looks like when it is first opened. (graphical user interface for treasurerPro):

.Graphical User Interface of treasurerPro
image::Ui.png[width="600"]

== Summary of contributions
My role was to design and write the code for the features of the Home Tab. The following sections shows a summary of these
features, as well as the relevant documentation I have added to the user and developer guides in
relation to these features.

*Enhancements*

//This section explains the rationale behind the features of the Home Tab.

////
* Adding, Deleting and Editing Transactions
The basic create, read, update and delete (CRUD) commands were added such that the user can [blue]`*add*`, [blue]`*delete*` and
[blue]`*edit*` transactions to keep track of them.
** What it does:
It allows the user to create, delete and update transactions. It also allows the application to restore data from
previous usage of the application by reading and saving data in a background text file.

** Justification:
It forms the fundamental features required for the `Home Tab` to be useful for users to keep track of transactions.

** Highlights:
These commands help to store and keep track of transactions in the `Home Tab` but also help keep track of sales
transactions from the `Cashier Tab`. The transactions for each member's spending in this tab are also tabulated in the
`Reimbursement Tab` to help the treasurer keep track of pending reimbursements.

A [blue]`*sort*` command was implemented for the transactions in the table to sort the commands to a certain order.

////
* Deleting Transactions of a Specific Member
** What it does:
The Delete Command allows all transactions linked to the specified member in the command to be deleted at once.

** Justification:
This feature allows the user to clear all transaction records linked to a specific member if the member
has left the CCA since a member's details can only be deleted in the Members Tab if the member does not have existing transaction
records.

** Highlights:
This feature is a faster way to delete transactions of a specific member, especially if the member has many transaction
records. This works well with the deletion of member feature in Members Tab.

* Sorting Transactions in a Specific Order
** What it does:
Each transaction records consists of a date, description, category, amount of money and
person accountable for the transaction. Thus, the Sort Command helps to sort the transactions by the alphabetical order of
the person's name, by the date (from oldest to most recent) or amount (from smallest to largest).

** Justification:
It is useful for users to keep track of transactions and view the transaction records according to different
priority.

** Highlights:
This command can be extended easily to allow for sorting of transactions in the reverse order or with other different orders.
////
* Finding and Filtering Transactions by Keywords

** What it does:
The command allows user to filter transactions to only show those that match the keywords from all
the transactions recorded.

** Justification:
This works well with other commands. It allows users to easily filter transactions to further call
another command to manage the transactions better.

==== Go and Exit Command
//A [blue]`*find*` command was also implemented to help find specific transactions that match the keywords inputted by the user.

Lastly, a [blue]`*go*` command and [blue]`*exit*` command was implemented to help navigate to another tab
and leave the application.

* What it does:
The [blue]`*go*` command helps the user to navigate to another tab without having to click on the tab and the
[blue]`*exit*` command allows the user to leave the application without having to click on the window's exit icon
as well.

* Justification: This ensures the application is a command-line interface application which requires no clicking
at all.
////
*Code contributed*

Please click these links to view the code I have contributed for Home Tab:
https://github.com/AY1920S1-CS2103T-T13-3/main/tree/master/src/main/java/seedu/address/transaction[Functional Code]
, https://github.com/AY1920S1-CS2103T-T13-3/main/tree/master/src/test/java/seedu/address/transaction/[Test Code]

*Other contributions*

* Community
** Reviewed Pull Requests (with non-trivial review comments):
https://github.com/AY1920S1-CS2103T-T13-3/main/pull/98[(PR #98)]
** Added Detailed Explanation of Added Code in Pull Requests to Help Understanding By Other Members:
https://github.com/AY1920S1-CS2103T-T13-3/main/pull/42[(PR #42)],
https://github.com/AY1920S1-CS2103T-T13-3/main/pull/201[(PR #201)]

** Helped to Debug Code in Other Member's package:
https://github.com/AY1920S1-CS2103T-T13-3/main/pull/126[(PR #126)]

* Integration
** Integrated `Transaction Tab` with `Reimbursement Tab`:
https://github.com/AY1920S1-CS2103T-T13-3/main/pull/49[(PR #49)]

** Integrated the Original `AddressBook` into the `Members Tab` in Graphical User Interface:
https://github.com/AY1920S1-CS2103T-T13-3/main/pull/42[(PR #42)]

** Integrated the Edit and Delete Command of `AddressBook` with the Logic of `Transaction Tab`:
https://github.com/AY1920S1-CS2103T-T13-3/main/pull/49/commits/af0e17f2d0b9101c91122329ccd676ee6c7bc0fe[(PR #49)],
https://github.com/AY1920S1-CS2103T-T13-3/main/pull/85/commits/3aebcd9053985fcc07e9145cff89fb579d9fde9e[(PR #85)]

* Documentation
** Added implementation details for Home Tab, Model Component and Storage Component to the Developer Guide:
https://github.com/AY1920S1-CS2103T-T13-3/main/pull/154[(PR #154)],
https://github.com/AY1920S1-CS2103T-T13-3/main/pull/199[(PR #199)]

** Added to User Stories and Guide to Use the Home Tab to the User Guide:
https://github.com/AY1920S1-CS2103T-T13-3/main/pull/22[(PR#22)],
https://github.com/AY1920S1-CS2103T-T13-3/main/pull/197[(PR #197)]

== Contributions to the User Guide
The following section shows my additions to the treasurerPro User Guide for the `Home Tab` features.

=== Current enhancement
{Start of First Extract from User Guide}
////
[very big]##5.1 Home Tab##

This section will contain details on all commands available in the Home tab.

====
*Summary of features in the Home Tab*

* The Home Tab shows a list of all transactions made thus far.
* Each column shows the date, description, category, amount spent and the person responsible for each transaction.
* You may add, delete or edit transactions within this tab.
* Leo, our mascot, helps give replies indicating successful addition, deletion and edit of the a transaction
after a command has been input
* Leo will also give replies to guide you when there is a wrong input.
* You may also sort the list of transactions by descending date, by ascending alphabetical order or descending amount.
* The amount input for a transaction should be positive if the transaction is considered revenue to the club (that is,
it adds money to the club's funds).
* The amount input should be negative if the transaction is an expenditure made by the club (that is, it deducts money
from the club's funds).

[WARNING]
Do not key in a quantity where the total amount in table or subtotal of that row exceeds 2,147,483,647, the range
of an integer. If it exceeds this number, please key in a smaller quantity or checkout items separately. +
You are advised to key in a number smaller than 10000 due to size limitation.
====

[big]##5.1.1 Add a Transaction##

This command helps to add a transaction record into the table and to be saved into the system.

* Command format:
[blue]`add dt/DATE d/DESCRIPTION c/CATEGORY a/AMOUNT p/PERSON`

Examples:
[blue]`add dt/24-Aug-2019, 07:00PM d/Printer ink c/Miscellaneous a/3.50 p/Janelle`

[NOTE]
The format of the date has to be in dd-MMM-yyyy format. (Eg. 24-Aug-2019 or 03-Sep-2019)

* Steps:

1. Type the command with all the parameters filled in as shown in the screenshot below:

image::homeUG/HomeAddStep1cr.png[width="500"]

[NOTE]
The format of the date has to be in dd-MMM-yyyy format. (Eg. 24-Aug-2019 or 03-Sep-2019)

[start = 2]
2. Hit `Enter`.

If the command is successfully added, Leo will respond with a success message and the transaction
will be shown in the table. This is shown in the screenshot below:

image::homeUG/HomeAddStep2cr.png[width = "500"]

[[NoSuchPerson]]
If the person's name does not exactly match a current member in the Members Tab, Leo will respond with an error and the transaction
record will not be added. This is shown in the screenshot below:

image::homeUG/HomeAddUnsuccessfulStep2cr.png[width = "500"]

If the added transaction contains a negative amount (indicating an expenditure), a corresponding entry will
automatically be shown in the Reimbursement Tab, tagged to the member who spent it.

Since reimbursements are aggregated by member, if the member already has other outstanding reimbursements,
it will simply be added to his existing row.

This is shown in the screenshot below:

.Screenshot of the Reimbursement Tab after successfully adding a transaction
image::homeUG/HomeAddShowInR.png[width = "500"]
////
[big]##5.1.2 Delete Transaction(s)##

This command allows you to delete either all transactions of a person or a single transaction of a specific ID from the table.

* Command:
`delete ID` or `delete p/PERSON`

* Examples:
** [blue]`delete 1`
** [blue]`delete p/Alex Yeoh`

* Steps for Deleting by ID:
1. Type the command with the ID of the transaction to be deleted as shown in the screenshot below:

//.Screenshot of the user input into Command Box for Delete by ID command in Home tab
image::homeUG/HomeDeleteStep1cr.png[]


[start = 2]
2. Hit `Enter`.

Leo will respond with a success message and the transaction will be removed from the table as shown below:

.Screenshot of a successful user input for Delete by ID Command in Home Tab
image::homeUG/HomeDeleteStep2cr.png[]


* Steps for Deleting by Person:
1. Type the command with the person's name to delete all transactions related to that person, as shown in the screenshot below:


//.Screenshot of a user input into Command Box for Delete by ID command in Home Tab
image::homeUG/HomeDeletePStep1cr.png[]

[start = 2]
2. Hit `Enter`.

Leo will respond with the success message and the transaction(s) will be removed from the table as shown below:

//.Screenshot of a successful user input for Delete by Person Command in Home Tab
image::homeUG/HomeDeletePStep2cr.png[]

For both delete commands, if the transaction(s) deleted was part of a pending reimbursement record, it will also be removed from that
reimbursement record. On the other hand, if the person entered is not part of our database as shown in the Members Tab,
Leo will respond with a message to inform you. If the person does not have any transactions, Leo will also respond with a message to inform you.

////
as shown in the screenshot below:

image::homeUG/HomeAddUnsuccessfulStep2cr.png[width = "500"]
////

{End of First Extract}
////
[big]##5.1.3 Edit a Transaction in the Table##

This command edits an existing transaction in the table, changing its details.

* Command:
`edit ID dt/DATE d/DESCRIPTION c/CATEGORY a/AMOUNT p/PERSON`

[NOTE]
The fields above can vary in their order. It is not compulsory to include all of them.

* Examples:
** `edit 1 p/Bernice Yu dt/23-Aug-2019`
** `edit 3 a/12`

* Steps:
1. Type the command with the ID of the transaction to be edited, along with the new parameters to be changed, as shown in the screenshot below:

image::homeUG/HomeEditStep1cr.png[width = "500"]

[start = 2]
2. Hit `Enter`.

The updated transaction will be shown in the table. Leo will also respond with a success message as shown below:

image::homeUG/HomeEditStep2cr.png[width = "500"]

If the person entered into the command is not found in the Members tab, Leo will respond to inform you which is similar to <<NoSuchPerson, Figure 3>>.
////
{Start of Second Extract from User Guide}

[big]##5.1.4 Sort Transactions in the Table##

This command sorts the table of transactions into a specified order for viewing and carrying out of subsequent commands.

* To sort:
** By date (from oldest to most recent): [blue]`sort date`
** By name (from alphabetical order of name): [blue]`sort name`
** By amount (from smallest to largest in amount): [blue]`sort amount`
** Undo sort: [blue]`sort reset`

[NOTE]
The undo sort command allows you to view the table of transactions in the order originally shown when the application was initially opened.

////
=== Find Transactions that Match Keywords:
This command helps to find transactions that match the entered keywords for viewing and for subsequent commands to be inputted based
on the filtered table of transactions shown.

* Command Format:
[blue]`find KEYWORDS`

[NOTE]
The keyword can be one or more words. An entire keyword must match a word in any of the parameters of the transaction intended to be found and shown in the table.
If the keyword is just a part of the word in the transaction, the transaction will not be shown in the table after the
command is inputted.

* Examples:
** [blue]`find Alex Yeoh`
** [blue]`find Alex`

* Steps:
Shown below is the table of all transactions:

.Screenshot of all transactions in Home tab
image::homeUG/HomeFindCurr.png[width="600"]

1. Type the command with keyword(s) to find transactions as shown in the screenshot below:

.Screenshot of user input into command box for find command in Home tab
image::homeUG/HomeFindStep1.png[width="600"]

[start = 2]
2. Enter the command.
Leo will respond with the number of matching transactions to the keywords and the table will only show the filtered
transactions matching the keywords. This is shown in the screenshot below:


.Screenshot of successful user input for find command in Home tab
image::homeUG/HomeFindStep2.png[width="600"]

[start = 3]
3. Enter `back` to return to the table of all transactions or enter your next command to be executed. The edit command
being inputted as the next command can be shown in the screenshot below:

.Screenshot of user input for edit command according to filtered table's ID in Home tab
image::homeUG/HomeFindStep3.png[width="600"]

The table will continue to show the filtered table with the transaction edited according to the command shown in the screenshot above.
[NOTE]
For the add command, the table will automatically show the full list of all transactions. The rest of the commands will
require the user to input `back` to return to the full list of all transactions.

The screenshot below shows the table after entering `back` which shows all the transactions in the table again:

.Screenshot of user input for back command after entering find command in Home tab
image::homeUG/HomeFindStep3Back.png[width="600"]
////
{End of Second Extract}

==  Contributions to the Developer Guide
The following section shows my additions to the treasurerPro Developer Guide for the `Home Tab` features.

=== Current enhancement
{Start of First Extract from Developer Guide}
////
[very big]##3.1 Home Tab##

This tab will help to show records of individual transactions from miscellaneous spending, revenue from sales and
cost of buying items to sell. Each transaction will require an input of its date, description, category, amount
and member that is accountable for it.

Revenue from each cashier checkout will also be automatically inputted as
a transaction with positive amount in this tab with the person being the cashier. The inputted transactions that corresponds to
a spending with a negative amount will be tabulated for each member in the reimbursement tab to keep track of reimbursements.
////
////
[big]##3.1.1 Add Command feature##

This feature requires access to the `Model` of the
person package which the `AddressBook` implementation is contained in. All fields in the transactions are compulsory
to be inputted by the user: date, description, category, amount, person full name. The person's name inputted
has to match a name already existing in the `AddressBook` which is shown in our Members Tab.

The following sequence diagram shows how the `AddCommand` works and is the reference from <<GeneralLogicSD, Interactions Inside the Logic Component for a Command>>:

[caption = "Figure 10. "]
.Sequence Diagram of Add Command in Home Tab (transaction package)
image::HomeAddCommandSD.png[width = "200"]

In addition, the `resetPredicate()` method from `ModelManager` is called in the `AddCommand`. Thus, the UI table will immediately shows the full
transaction list regardless of the list shown at the start of the activity diagram. If the prior command was a Find Command,
then the list in the beginning of the activity diagram would be a filtered list but after the add command is executed,
the full list of transactions would be shown.

After the command is executed, the `LogicManager` updates the in-app list of transactions via the `ModelManager` and updates
the data file via the `StorageManager`. The following sequence diagram shows how the updating of the list of transactions in the app and
in the data file:
[[UpdateTL]]

[caption = "Figure 11. "]
.Sequence Diagram of updating the transaction list in Home Tab (transaction package)
image::HomeAddCommandMMSM.png[width = "300"]

[NOTE]
This update of the list of transactions is done for every command that is executed successfully in the Home Tab.

Finally, the `StorageManager` and `ModelManager` inside the Reimbursement package will be updated with the latest list of transactions
to generate an updated list of reimbursements for the user to view in the Reimbursement Tab. The following sequence diagram shows how
the Reimbursement Tab is updated from the `MainWindow`:

[[update-reimbursement]]

[caption = "Figure 12. "]
.Sequence Diagram of updating the reimbursement list in Reimbursement Tab (transaction package)
image::TUpdateRinMainWindow.png[width = "400"]

[NOTE]
This update of the Reimbursement Tab is done for every command after the list of transactions is updated (shown in <<UpdateTL, Sequence Diagram of updating the transaction list in Home Tab>>) when there is a command executed successfully in the Home Tab.

To better illustrate the flow of events from the moment a user inputs a command till the completion of the command,
the activity diagram for the Add Command is shown below:

[caption = "Figure 13. "]
.Activity Diagram of Add Command in Home Tab (transaction package)
image::HomeTabActivityDiagramAddCommand.png[width="350"]
////
[big]##3.1.2 Delete Feature##

This section explains the implementation of the Delete Command in Home Tab. This feature allows for 2 types of deletion, by
the index shown in the table or by the person's name. Inputting the person's name will cause all transactions linked to
that person to be deleted.

The following sequence diagram shows how the delete by name command works which is referenced in <<GeneralLogicSD>>:

[caption = "Figure 16. "]
.Sequence Diagram of Delete Command in Home Tab (transaction package)
image::HomeDeleteNameCommand.png[]

In addition, the `ModelManager#resetPredicate()` method is not called in the `DeleteNameCommand`. Thus, the UI table will continue to show the
filtered transaction list. If the prior input is a Find Command and the list at the start of the activity diagram shows
a filtered list by the Find Command's keywords, it will continue to show the filtered list at the end of the command.
To view the full transaction list, the user would be required to input the
Back Command where `BackCommand` calls `resetPredicate()`. The sequence diagram for the `BackCommand` is shown in the
following section <<BackCommandSD, 3.1.3 BackCommand>>

After this, the list of transactions and reimbursement tab is updated as shown in <<updateTL>> and <<update-reimbursement>>
respectively.
The delete by index implementation would be similar but does not require interaction with the `Model` from the
`AddressBook` in the person package.
The following activity diagram shows the steps needed to delete a new transaction:

[caption = "Figure 17. "]
.Activity Diagram of Delete Command in Home Tab (transaction package)
image::HomeTabActivityDiagramDeleteCommand.png[]

The above activity diagram assumes the index to be within the bounds of the table but if it is not, a response will
be shown about the incorrect input. Also, as shown above, responses will be shown to indicate if an input is incorrect or
when a successful deletion is done.

[big]##3.1.3 Back Command Feature##

[[BackCommandSD]]
This section explains the implementation of the Back Command feature in Home Tab.
The `BackCommand` is not initialised by a specific command parser as shown in as shown in <<GeneralLogicSD>>
but initialised by the `TransactionTabParser` instead.
The following detailed sequence diagram shows how the back command works:

[caption = "Figure 18. "]
.Sequence Diagram of Back Command in Home Tab (transaction package)
image::HomeTabBackCommandSequenceDiagram.png[width = "450"]

[big]##3.1.4 Sort Command Feature##

This section explains the implementation of the Sort Command feature in Home Tab.
The `SortCommand` allows for 3 types of sort, by name in
alphabetical order, by amount (from least to most) and by date (from oldest to most recent).

The following sequence diagram shows how the sort command works:

[caption = "Figure 19. "]
.Sequence Diagram of Sort Command in Home Tab (transaction package)

image::HomeTabSortSD.png[width = "300"]

When a user inputs the sort command, it is only checked that it is one of the 3 types or it will show a response about
the incorrect user input. When it is successfully sorted, there will also be a response message shown.

Similar to the Delete Command, the `resetPredicate()` method in `ModelManager` is not called.

[big]##3.1.5 Overall Design Considerations##
This section's table explains the design considerations for some implementations in the Home Tab.

|===
|Alternative 1 |Alternative 2 |Conclusion and Explanation

|The Reimbursement Tab's `Model` and `Storage` interface is passed as parameters into Transaction Tab's `Logic`
to call the methods in `Model` and `Storage` to update all the reimbursement data after a `Command` is
executed in Home Tab.
|The methods in Reimbursement Tab's `Model` and `Storage` is called to update all the reimbursement data in `MainWindow`
after a `Command` is executed in Home Tab.
|Alternative 2 was implemented. This limits access to all public methods in Reimbursement Tab's
`Model` and `Storage` in Transaction Tab's `Logic` to prevent unwanted modifications to any of the reimbursement data.

|The Members Tab's `Model` interface is passed as parameters into Transaction Tab's `Logic` to give `Logic` access to all public methods
of `ModelManager`.
|A new interface is made to allow the only used method of Members Tab's `ModelManager` to be accessed in Transaction Tab's
`Logic`.
|Alternative 2 was implemented. The new interface acts as a facade for `ModelManager` which prevent unwanted modifications
to `AddressBook`.

|An `ArrayList` is used to store `Transaction` objects in `TransactionList`.
|A `LinkedList` is used to store `Transaction` objects in `TransactionList`.
|Alternative 1 was implemented. An `ArrayList` has better performance for the set and get methods than a `LinkedList` which would beuse frequently in `ModelManager`.
|===
{End of First Extract}

{Start of Second Extract from Developer Guide}
[[GeneralLogicSD]]
[caption = "Figure 5. "]
.Sequence Diagram for execution within `Logic`.
image::GeneralSequenceDiagram.png[width = "400"]
{End of Second Extract}

{Start of Third Extract}
[[updateTL]]
[caption = "Figure 11. "]
.Sequence Diagram of updating the transaction list in Home Tab (transaction package)
image::HomeAddCommandMMSM.png[width = "300"]
[NOTE]
This update of the list of transactions is done for every command that is executed successfully in the Home Tab.

Finally, the `StorageManager` and `ModelManager` inside the Reimbursement package will be updated with the latest list of transactions
to generate an updated list of reimbursements for the user to view in the Reimbursement Tab. The following sequence diagram shows how
the Reimbursement Tab is updated from the `MainWindow`:

[[update-reimbursement]]

[caption = "Figure 12. "]
.Sequence Diagram of updating the reimbursement list in Reimbursement Tab (transaction package)
image::TUpdateRinMainWindow.png[width = "400"]

[NOTE]
This update of the Reimbursement Tab is done for every command after the list of transactions is updated (shown in <<updateTL>>) when there is a command executed successfully in the Home Tab.

{End of Third Extract}
