= Daniel Wong â€“ Project Portfolio for treasurerPro (tP)
:site-section: ProjectPortfolio
//:toc:
:toc-title:
:sectnums:
:imagesDir: ../images
:stylesDir: ../stylesheets
:xrefstyle: full
:icons: font
ifdef::env-github[]
:note-caption: :information_source:
endif::[]

== Introduction

This document serves as a project portfolio for treasurerPro, and outlines my contributions to the project,
including the features that I have implemented.

=== About the team

My team of five consists of four Year 2 Computer Science students, including me, and a Year 4 Computer Engineering
student, all taking the module CS2103T Software Engineering.

=== About the project

This project was developed as part of the module CS2103T Software Engineering. We were tasked to develop a desktop
application (Windows/macOS/Linux) with a Command Line Interface (that is, the program operates via text input from the
user, called commands). Additionally, we were required to use an existing application, called AddressBook Level 3, as
the starting point for building our application.

My team decided to create an application that would help treasurers of Co-Curriculur Activities (CCAs) and student
clubs track their expenses, reimbursements, sales and inventory. To do so, we incorporated the existing people
management features of AddressBook and used it as a starting point to build treasurerPro. We also built a new User
Interface (UI) to accommodate the new features that we had added.

In total, treasurerPro took a total of 8 weeks to complete.

===  Key to the icons and formatting used in the document

[NOTE]
This symbol indicates extra information or definition.

[WARNING]
This symbol indicates important information to take note of.

`Model` :
Text with grey highlight indicates a component, class or object in the architecture of
the application.

[blue]`*command*` :
Text with blue font and grey highlight indicates a command that can be input by the user.

=== Introduction of treasurerPro

The User Interface of treasurerPro is primarily divided into 6 tabs - Home, Members, Reimbursements, Inventory, Cashier
and Overview. Each tab serves a particular function:

. The Home tab lists all transactions
. The Members tab holds information of all the club's members
. The Reimbursements tab keeps track of outstanding reimbursements
. The Inventory tab keeps track of items owned by the club
. The Overview tab shows summary statistics of the club's finances

Additionally, there are two common elements across all tabs. The command box, for users to input their
commands, and Leo, the mascot of treasurerPro, who acts as a personal assistant and guides the user.

The following screenshot shows the User Interface of the application on first launch:
image:Ui.png[width="600"]

== Summary of contributions
I served as Team Lead for the project, and my responsibilities included the design of the new User Interface, as well
as the features within the Overview tab.

In the following sections, I will illustrate the above-mentioned enhancements in greater detail, along with the
corresponding documentation that I have written for them within the user and developer guides.

=== Enhancements and new features added
The following describes the enhancements and new features that I added to the project.

. New User Interface (UI)
** What it does: The new UI allows for each tab to effectively display its relevant data and interact with the user.
** Justification: The current AddressBook Level 3 (AB3) UI was unsuitable due to the multitude of new features within
each tab that have been implemented. As such, we decided to design a brand new UI that could fully represent the
features of treasurerPro.
** Highlights: The UI was made with SceneBuilder, an application built specifically for designing UIs. It retains AB3's
command box, but replaces the bulk of the application with a `TabPane` that houses the content for each tab. +
Additionally, a `GridPane` was used to create space for Leo, our mascot and personal assistant, to interact with the
user.

. Set and Notify Commands in Overview tab
** What it does: The set and notify command allow the user to set goals for their expenditure, budget and sales revenue,
and be notified when a percentage threshold of the goal has been met.
** Justification: These commands work together in tandem to form the basis of treasurerPro's financial planning feature.
They allow the treasurer to stay updated and continually keep track of the club's current financial health.
** Highlights: Each notification displays only once per app run, unless the goals or percentage thresholds are modified.
This prevents the user from being overwhelmed by excessive messages from treasurerPro.

. Summary statistics view in Overview tab
** What it does: The summary statistics view in the Overview tab allows the treasurer to monitor and take note of his
club's financial health with just a quick glance.
** Justification: It is tedious to flip through tab by tab, and read each table record by record just to gather summary
data about the current financial status of the club.
** Highlights: The calculations in this feature were implemented using Java Streams. This allows for future, similar
statistics to easily be added, simply by changing the criteria used when processing of the stream.

=== Code contributed
Click on the following links to view the code that I have contributed:

* https://github.com/AY1920S1-CS2103T-T13-3/main/tree/master/src/main/java/seedu/address/overview/[Functional Code]

* https://github.com/AY1920S1-CS2103T-T13-3/main/tree/master/src/test/java/seedu/address/overview/[Test Code]

[NOTE]
The links above will bring you to our team's GitHub repository

=== Other contributions
The following describes the various other contributions that I have made to the project.

. Project management:
** I managed all major releases, from version 1.1 to 1.4. In total, 8 releases were made by me (including interim
releases).
** I took charge of 3 team meetings out of a total of 11 meetings that we held.

. Enhancement to existing features:
** Updated JavaFX CSS Stylesheet to include new UI elements.

. Documentation:
** Updated diagrams and write-ups in the Developer Guide for the design of the Architecture, UI and Logic components.
** Proofread User Guide for spelling and grammatical errors.
** Reformatted User Guide to ensure consistency between sections.

. Community:
** Mediated disagreements on workflow process between teammates as Team lead.
** Cleaned up code style errors in teammates' packages (PRs:
https://github.com/AY1920S1-CS2103T-T13-3/main/pull/95[#95]
https://github.com/AY1920S1-CS2103T-T13-3/main/pull/124[#124])

** Reviewed Pull Requests (with non-trivial review comments) (PRs:
https://github.com/AY1920S1-CS2103T-T13-3/main/pull/49[#49]
https://github.com/AY1920S1-CS2103T-T13-3/main/pull/98[#98]
https://github.com/AY1920S1-CS2103T-T13-3/main/pull/133[#133]
https://github.com/AY1920S1-CS2103T-T13-3/main/pull/134[#134]
https://github.com/AY1920S1-CS2103T-T13-3/main/pull/149[#149]
https://github.com/AY1920S1-CS2103T-T13-3/main/pull/202[#202]
https://github.com/AY1920S1-CS2103T-T13-3/main/pull/221[#221])

** Contributed to forum discussions (links:
https://github.com/nus-cs2103-AY1920S1/forum/issues/11[1]
https://github.com/nus-cs2103-AY1920S1/forum/issues/18[2]
https://github.com/nus-cs2103-AY1920S1/forum/issues/27[3]
https://github.com/nus-cs2103-AY1920S1/forum/issues/28[4]
https://github.com/nus-cs2103-AY1920S1/forum/issues/45[5]
https://github.com/nus-cs2103-AY1920S1/forum/issues/56[6]
https://github.com/nus-cs2103-AY1920S1/forum/issues/57[7]
https://github.com/nus-cs2103-AY1920S1/forum/issues/58[8]
https://github.com/nus-cs2103-AY1920S1/forum/issues/60[9]
https://github.com/nus-cs2103-AY1920S1/forum/issues/62[10]
https://github.com/nus-cs2103-AY1920S1/forum/issues/134[11]
https://github.com/nus-cs2103-AY1920S1/forum/issues/138[12])

. Tools:
** Added Coveralls' code coverage service to the team repository
** Added Codacy's code quality service to the team repository

== Contributions to the User Guide
The following section shows my additions to the treasurerPro User Guide for the `Home Tab` features.

=== Current enhancement
(start of extract from User Guide)
////
[very big]##5.1 Home Tab##

This section will contain details on all commands available in the Home tab.

====
*Summary of features in the Home Tab*

* The Home Tab shows a list of all transactions made thus far.
* Each column shows the date, description, category, amount spent and the person responsible for each transaction.
* You may add, delete or edit transactions within this tab.
* Leo, our mascot, helps give replies indicating successful addition, deletion and edit of the a transaction
after a command has been input
* Leo will also give replies to guide you when there is a wrong input.
* You may also sort the list of transactions by descending date, by ascending alphabetical order or descending amount.
* The amount input for a transaction should be positive if the transaction is considered revenue to the club (that is,
it adds money to the club's funds).
* The amount input should be negative if the transaction is an expenditure made by the club (that is, it deducts money
from the club's funds).

[WARNING]
Do not key in a quantity where the total amount in table or subtotal of that row exceeds 2,147,483,647, the range
of an integer. If it exceeds this number, please key in a smaller quantity or checkout items separately. +
You are advised to key in a number smaller than 10000 due to size limitation.
====
////
[big]##5.1.1 Add a Transaction##

This command helps to add a transaction record into the table and to be saved into the system.

* Command format:
[blue]`add dt/DATE d/DESCRIPTION c/CATEGORY a/AMOUNT p/PERSON`

Examples:
[blue]`add dt/24-Aug-2019, 07:00PM d/Printer ink c/Miscellaneous a/3.50 p/Janelle`

[NOTE]
The format of the date has to be in dd-MMM-yyyy format. (Eg. 24-Aug-2019 or 03-Sep-2019)

* Steps:

1. Type the command with all the parameters filled in as shown in the screenshot below:

.Screenshot of user input into command box for add command in Home tab
image::homeUG/HomeAddStep1cr.png[width="500"]

[NOTE]
The format of the date has to be in dd-MMM-yyyy format. (Eg. 24-Aug-2019 or 03-Sep-2019)

[start = 2]
2. Hit `Enter`.

If the command is successfully added, Leo will respond with a success message and the transaction
will be shown in the table. This is shown in the screenshot below:

.Screenshot of a successful user input for Add Command in Home Tab
image::homeUG/HomeAddStep2cr.png[width = "500"]

[[NoSuchPerson]]
If the person's name does not exactly match a current member in the Members Tab, Leo will respond with an error and the transaction
record will not be added. This is shown in the screenshot below:

.Screenshot of an unsuccessful user input for Add Command in the Home Tab due to an invalid name
image::homeUG/HomeAddUnsuccessfulStep2cr.png[width = "500"]

If the added transaction contains a negative amount (indicating an expenditure), a corresponding entry will
automatically be shown in the Reimbursement Tab, tagged to the member who spent it.

Since reimbursements are aggregated by member, if the member already has other outstanding reimbursements,
it will simply be added to his existing row.
////
This is shown in the screenshot below:

.Screenshot of the Reimbursement Tab after successfully adding a transaction
image::homeUG/HomeAddShowInR.png[width = "500"]
////
[big]##5.1.2 Delete Transaction(s)##

This command deletes either all transactions of a person or a single transaction of a specific ID from the table.

* Command:
`delete ID` or `delete p/PERSON`

* Examples:
** `delete 1`
** `delete p/Alex Yeo`

* Steps for Deleting by ID:
1. Type the command with the ID of the transaction to be deleted as shown in the screenshot below:

.Screenshot of the user input into Command Box for Delete by ID command in Home tab
image::homeUG/HomeDeleteStep1cr.png[width = "500"]

[start = 2]
2. Hit `Enter`.

Leo will respond with a success message and the transaction will be removed from the table as shown below:

.Screenshot of a successful user input for Delete by ID Command in Home Tab
image::homeUG/HomeDeleteStep2cr.png[width = "500"]

* Steps for Deleting by Person:
1. Type the command with the person's name to delete all transactions related to that person, as shown in the screenshot below:

.Screenshot of a user input into Command Box for Delete by ID command in Home Tab
image::homeUG/HomeDeletePStep1cr.png[width = "500"]

[start = 2]
2. Hit `Enter`.

Leo will respond with the success message and the transaction(s) will be removed from the table as shown below:

.Screenshot of a successful user input for Delete by Person Command in Home Tab
image::homeUG/HomeDeletePStep2cr.png[width = "500"]

If the person does belong to any transactions, Leo will also respond with a message to inform you.

[big]##5.1.3 Edit a Transaction in the Table##

This command edits an existing transaction in the table, changing its details.

* Command:
`edit ID dt/DATE d/DESCRIPTION c/CATEGORY a/AMOUNT p/PERSON`

[NOTE]
The fields above can vary in their order. It is not compulsory to include all of them.

* Examples:
** `edit 1 p/Bernice Yu dt/23-Aug-2019`
** `edit 3 a/12`

* Steps:
1. Type the command with the ID of the transaction to be edited, along with the new parameters to be changed, as shown in the screenshot below:

.Screenshot of user input into Command Box for Edit Command in Home Tab
image::homeUG/HomeEditStep1cr.png[width = "500"]

[start = 2]
2. Hit `Enter`.

Leo will respond with a success message and the updated transaction will be shown in the table as shown below:

.Screenshot of a successful user input for Edit Command in Home Tab
image::homeUG/HomeEditStep2cr.png[width = "500"]

If the person entered into the command is not found in the Members tab, Leo will respond to inform you which is similar to <<NoSuchPerson, Figure 3>>.

[big]##5.1.4 Sort Transactions in the Table##

This command sorts the table of transactions into a specified order for viewing and carrying out of subsequent commands.

* To sort:
** By date (from oldest to most recent): `sort date`
** By name (from alphabetical order of name): `sort person`
** By amount (from largest to smallest in amount): `sort amount`
** Undo sort: `sort reset`

[NOTE]
The undo sort command allows you to view the table of transactions in the order originally shown when the application was initially opened.

////
=== Find Transactions that Match Keywords:
This command helps to find transactions that match the entered keywords for viewing and for subsequent commands to be inputted based
on the filtered table of transactions shown.

* Command Format:
[blue]`find KEYWORDS`

[NOTE]
The keyword can be one or more words. An entire keyword must match a word in any of the parameters of the transaction intended to be found and shown in the table.
If the keyword is just a part of the word in the transaction, the transaction will not be shown in the table after the
command is inputted.

* Examples:
** [blue]`find Alex Yeoh`
** [blue]`find Alex`

* Steps:
Shown below is the table of all transactions:

.Screenshot of all transactions in Home tab
image::homeUG/HomeFindCurr.png[width="600"]

1. Type the command with keyword(s) to find transactions as shown in the screenshot below:

.Screenshot of user input into command box for find command in Home tab
image::homeUG/HomeFindStep1.png[width="600"]

[start = 2]
2. Enter the command.
Leo will respond with the number of matching transactions to the keywords and the table will only show the filtered
transactions matching the keywords. This is shown in the screenshot below:


.Screenshot of successful user input for find command in Home tab
image::homeUG/HomeFindStep2.png[width="600"]

[start = 3]
3. Enter `back` to return to the table of all transactions or enter your next command to be executed. The edit command
being inputted as the next command can be shown in the screenshot below:

.Screenshot of user input for edit command according to filtered table's ID in Home tab
image::homeUG/HomeFindStep3.png[width="600"]

The table will continue to show the filtered table with the transaction edited according to the command shown in the screenshot above.
[NOTE]
For the add command, the table will automatically show the full list of all transactions. The rest of the commands will
require the user to input `back` to return to the full list of all transactions.

The screenshot below shows the table after entering `back` which shows all the transactions in the table again:

.Screenshot of user input for back command after entering find command in Home tab
image::homeUG/HomeFindStep3Back.png[width="600"]
////
(end of extract)

=== Proposed enhancement for v2.0

==  Contributions to the Developer Guide
The following section shows my additions to the treasurerPro Developer Guide for the `Home Tab` features.

=== Current enhancement
(start of extract from Developer Guide)
////
[very big]##3.1 Home Tab##

This tab will help to show records of individual transactions from miscellaneous spending, revenue from sales and
cost of buying items to sell. Each transaction will require an input of its date, description, category, amount
and member that is accountable for it.

Revenue from each cashier checkout will also be automatically inputted as
a transaction with positive amount in this tab with the person being the cashier. The inputted transactions that corresponds to
a spending with a negative amount will be tabulated for each member in the reimbursement tab to keep track of reimbursements.
////
[big]##3.1.1 Add Command feature##

This feature requires access to the `Model` of the
person package which the `AddressBook` implementation is contained in. All fields in the transactions are compulsory
to be inputted by the user: date, description, category, amount, person full name. The person's name inputted
has to match a name already existing in the `AddressBook` which is shown in our Members Tab.

The following sequence diagram shows how the `AddCommand` works and is the reference from <<GeneralLogicSD, Interactions Inside the Logic Component for a Command>>:

[caption = "Figure 10. "]
.Sequence Diagram of Add Command in Home Tab (transaction package)
image::HomeAddCommandSD.png[width = "200"]

In addition, the `resetPredicate()` method from `ModelManager` is called in the `AddCommand`. Thus, the UI table will immediately shows the full
transaction list regardless of the list shown at the start of the activity diagram. If the prior command was a Find Command,
then the list in the beginning of the activity diagram would be a filtered list but after the add command is executed,
the full list of transactions would be shown.

After the command is executed, the `LogicManager` updates the in-app list of transactions via the `ModelManager` and updates
the data file via the `StorageManager`. The following sequence diagram shows how the updating of the list of transactions in the app and
in the data file:
[[UpdateTL]]

[caption = "Figure 11. "]
.Sequence Diagram of updating the transaction list in Home Tab (transaction package)
image::HomeAddCommandMMSM.png[width = "300"]

[NOTE]
This update of the list of transactions is done for every command that is executed successfully in the Home Tab.

Finally, the `StorageManager` and `ModelManager` inside the Reimbursement package will be updated with the latest list of transactions
to generate an updated list of reimbursements for the user to view in the Reimbursement Tab. The following sequence diagram shows how
the Reimbursement Tab is updated from the `MainWindow`:

[[update-reimbursement]]

[caption = "Figure 12. "]
.Sequence Diagram of updating the reimbursement list in Reimbursement Tab (transaction package)
image::TUpdateRinMainWindow.png[width = "400"]

[NOTE]
This update of the Reimbursement Tab is done for every command after the list of transactions is updated (shown in <<UpdateTL, Sequence Diagram of updating the transaction list in Home Tab>>) when there is a command executed successfully in the Home Tab.

To better illustrate the flow of events from the moment a user inputs a command till the completion of the command,
the activity diagram for the Add Command is shown below:

[caption = "Figure 13. "]
.Activity Diagram of Add Command in Home Tab (transaction package)
image::HomeTabActivityDiagramAddCommand.png[width="350"]

[big]##3.1.2 Delete Feature##

This feature allows for 2 types of deletion, by
the index shown in the table or by the person's name. Inputting the person's name will cause all transactions linked to
that person to be deleted.

The following sequence diagram shows how the delete by name command works:

[caption = "Figure 14. "]
.Sequence Diagram of Delete Command in Home Tab (transaction package)
image::HomeDeleteNameCommand.png[width = "300"]

In addition, the `resetPredicate()` method in `ModelManager` is not called in the `DeleteNameCommand`. Thus, the UI table will continue to show the
filtered transaction list. If the prior input is a Find Command and the list at the start of the activity diagram shows
a filtered list by the Find Command's keywords, it will continue to show the filtered list at the end of the command.
To view the full transaction list, the user would be required to input the
Back Command where `BackCommand` calls `resetPredicate()`. The sequence diagram for the `BackCommand` is shown in the
following section <<BackCommandSD, 3.1.3 BackCommand>>

After this, the list of transactions and reimbursement tab is updated as shown in <<updateTL, Figure 11>> and <<update-reimbursement,Figure 12>>
respectively.
The delete by index implementation would be similar but does not require interaction with the `Model` from the
`AddressBook` in the person package.
////
The following activity diagram shows the steps needed to delete a new transaction:

[caption = "Figure 15. "]
.Activity Diagram of Delete Command in Home Tab (transaction package)
image::HomeTabActivityDiagramDeleteCommand.png[width="500"]

The above activity diagram assumes the index to be within the bounds of the table but if it is not, a response will
be shown about the incorrect input. Also, as shown above, response on other incorrect inputs will also be shown.
When a successful deletion is done, a response message is shown as well.
////
[big]##3.1.3 Back Command Feature##

[[BackCommandSD]]
The `BackCommand` is not initialised by a specific command parser as shown in as shown in <<GeneralLogicSD, Interactions Inside the Logic Component for a Command>>
but initialised by the `TransactionTabParser` instead.
The following detailed sequence diagram shows how the back command works:

[caption = "Figure 16. "]
.Sequence Diagram of Back Command in Home Tab (transaction package)
image::HomeTabBackCommandSequenceDiagram.png[width = "450"]

(end of extract)

=== Proposed enhancement for v2.0

[bibliography]
=== Glossary

[[CLI]] 1. Command line interface (CLI): Command line interface applications allow users to use all the features in the app by typing and without a need to click on anything

[[PR]] 2. Graphical user interface (GUI): Refers to the visual means of interacting with the application, such
as windows, buttons and menus.

[[GUI]] 3. Pull request (PR): Making a pull request is a way of submitting contributions to an open development project. It allows the developers to approve code before
it is added or merged with the current code in the project.

[[TravisCI]] 4. Travis CI: Travis will automatically detect when a commit has been made and pushed to the GitHub repository that allows it access,
and each time this happens, it will try to build the project and run tests according to the standards set by the developers.
